{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kenjifleming/course-challenges/Perfect-Parlay/perfect-parlay/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kenjifleming/course-challenges/Perfect-Parlay/perfect-parlay/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/kenjifleming/course-challenges/Perfect-Parlay/perfect-parlay/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kenjifleming/course-challenges/Perfect-Parlay/perfect-parlay/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kenjifleming/course-challenges/Perfect-Parlay/perfect-parlay/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import './index.css';\nimport React,{useState}from'react';import{Link}from'react-router-dom';import{useMutation}from'@apollo/client';import{ADD_USER}from'../../utils/mutations';import Auth from'../../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var _useState=useState({username:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=useMutation(ADD_USER),_useMutation2=_slicedToArray(_useMutation,2),addUser=_useMutation2[0],_useMutation2$=_useMutation2[1],error=_useMutation2$.error,data=_useMutation2$.data;var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$addUser,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(formState);_context.prev=2;_context.next=5;return addUser({variables:_objectSpread({},formState)});case 5:_yield$addUser=_context.sent;_data=_yield$addUser.data;Auth.login(_data.addUser.token);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"main\",{className:\"flex-row justify-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-header bg-dark text-light p-2\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[data?/*#__PURE__*/_jsxs(\"p\",{children:[\"Success! You may now head\",' ',/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"back to the homepage.\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",placeholder:\"Your username\",name:\"username\",type:\"text\",value:formState.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",placeholder:\"Your email\",name:\"email\",type:\"email\",value:formState.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",placeholder:\"******\",name:\"password\",type:\"password\",value:formState.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block btn-primary\",style:{cursor:'pointer'},type:\"submit\",children:\"Submit\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"my-3 p-3 bg-danger text-white\",children:error.message})]})]})})});};export default Signup;","map":{"version":3,"names":["React","useState","Link","useMutation","ADD_USER","Auth","jsx","_jsx","jsxs","_jsxs","Signup","_useState","username","email","password","_useState2","_slicedToArray","formState","setFormState","_useMutation","_useMutation2","addUser","_useMutation2$","error","data","handleChange","event","_event$target","target","name","value","_objectSpread","_defineProperty","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$addUser","_data","wrap","_callee$","_context","prev","next","preventDefault","console","log","variables","sent","login","token","t0","stop","_x","apply","arguments","className","children","to","onSubmit","placeholder","type","onChange","style","cursor","message"],"sources":["/Users/kenjifleming/course-challenges/Perfect-Parlay/perfect-parlay/client/src/components/pages/Signup.js"],"sourcesContent":["// import './index.css';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../../utils/mutations';\nimport Auth from '../../utils/auth';\n\nconst Signup = () => {\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n  const [addUser, { error, data }] = useMutation(ADD_USER);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    console.log(formState);\n\n    try {\n      const { data } = await addUser({\n        variables: { ...formState },\n      });\n\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <main className=\"flex-row justify-center mb-4\">\n      <div className=\"col-12 col-lg-10\">\n        <div className=\"card\">\n          <h4 className=\"card-header bg-dark text-light p-2\">Sign Up</h4>\n          <div className=\"card-body\">\n            {data ? (\n              <p>\n                Success! You may now head{' '}\n                <Link to=\"/\">back to the homepage.</Link>\n              </p>\n            ) : (\n              <form onSubmit={handleFormSubmit}>\n                <input\n                  className=\"form-input\"\n                  placeholder=\"Your username\"\n                  name=\"username\"\n                  type=\"text\"\n                  value={formState.name}\n                  onChange={handleChange}\n                />\n                <input\n                  className=\"form-input\"\n                  placeholder=\"Your email\"\n                  name=\"email\"\n                  type=\"email\"\n                  value={formState.email}\n                  onChange={handleChange}\n                />\n                <input\n                  className=\"form-input\"\n                  placeholder=\"******\"\n                  name=\"password\"\n                  type=\"password\"\n                  value={formState.password}\n                  onChange={handleChange}\n                />\n                <button\n                  className=\"btn btn-block btn-primary\"\n                  style={{ cursor: 'pointer' }}\n                  type=\"submit\"\n                >\n                  Submit\n                </button>\n              </form>\n            )}\n\n            {error && (\n              <div className=\"my-3 p-3 bg-danger text-white\">\n                {error.message}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Signup;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}