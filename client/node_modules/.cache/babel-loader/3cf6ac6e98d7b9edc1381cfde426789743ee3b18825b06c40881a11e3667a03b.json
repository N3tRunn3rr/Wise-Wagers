{"ast":null,"code":"import React from'react';import{Navigate,useParams}from'react-router-dom';import{useQuery}from'@apollo/client';import{QUERY_USER,QUERY_ME}from'../utils/queries';import Auth from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";var Profile=function Profile(){var _useParams=useParams(),userParam=_useParams.username;var _useQuery=useQuery(userParam?QUERY_USER:QUERY_ME,{variables:{username:userParam}}),loading=_useQuery.loading,data=_useQuery.data;var user=(data===null||data===void 0?void 0:data.me)||(data===null||data===void 0?void 0:data.user)||{};// navigate to personal profile page if username is yours\nif(Auth.loggedIn()&&Auth.getProfile().data.username===userParam){return/*#__PURE__*/_jsx(Navigate,{to:\"/me\"});}if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!(user!==null&&user!==void 0&&user.username)){return/*#__PURE__*/_jsx(\"h4\",{children:\"You need to be logged in to see this. Use the navigation links above to sign up or log in!\"});}// return (\n//   <div>\n//     <div className=\"flex-row justify-center mb-3\">\n//       <h2 className=\"col-12 col-md-10 bg-dark text-light p-3 mb-5\">\n//         Viewing {userParam ? `${user.username}'s` : 'your'} profile.\n//       </h2>\n//       <div className=\"col-12 col-md-10 mb-5\">\n//         <ThoughtList\n//           thoughts={user.thoughts}\n//           title={`${user.username}'s thoughts...`}\n//           showTitle={false}\n//           showUsername={false}\n//         />\n//       </div>\n//       {!userParam && (\n//         <div\n//           className=\"col-12 col-md-10 mb-3 p-3\"\n//           style={{ border: '1px dotted #1a1a1a' }}\n//         >\n//           <ThoughtForm />\n//         </div>\n//       )}\n//     </div>\n//   </div>\n// );\n};export default Profile;","map":{"version":3,"names":["React","Navigate","useParams","useQuery","QUERY_USER","QUERY_ME","Auth","jsx","_jsx","Profile","_useParams","userParam","username","_useQuery","variables","loading","data","user","me","loggedIn","getProfile","to","children"],"sources":["/Users/kenjifleming/course-challenges/Perfect-Parlay/perfect-parlay/client/src/pages/Profile.js"],"sourcesContent":["import React from 'react';\nimport { Navigate, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport { QUERY_USER, QUERY_ME } from '../utils/queries';\n\nimport Auth from '../utils/auth';\n\nconst Profile = () => {\n  const { username: userParam } = useParams();\n\n  const { loading, data } = useQuery(userParam ? QUERY_USER : QUERY_ME, {\n    variables: { username: userParam },\n  });\n\n  const user = data?.me || data?.user || {};\n  // navigate to personal profile page if username is yours\n  if (Auth.loggedIn() && Auth.getProfile().data.username === userParam) {\n    return <Navigate to=\"/me\" />;\n  }\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!user?.username) {\n    return (\n      <h4>\n        You need to be logged in to see this. Use the navigation links above to\n        sign up or log in!\n      </h4>\n    );\n  }\n\n  // return (\n  //   <div>\n  //     <div className=\"flex-row justify-center mb-3\">\n  //       <h2 className=\"col-12 col-md-10 bg-dark text-light p-3 mb-5\">\n  //         Viewing {userParam ? `${user.username}'s` : 'your'} profile.\n  //       </h2>\n\n  //       <div className=\"col-12 col-md-10 mb-5\">\n  //         <ThoughtList\n  //           thoughts={user.thoughts}\n  //           title={`${user.username}'s thoughts...`}\n  //           showTitle={false}\n  //           showUsername={false}\n  //         />\n  //       </div>\n  //       {!userParam && (\n  //         <div\n  //           className=\"col-12 col-md-10 mb-3 p-3\"\n  //           style={{ border: '1px dotted #1a1a1a' }}\n  //         >\n  //           <ThoughtForm />\n  //         </div>\n  //       )}\n  //     </div>\n  //   </div>\n  // );\n};\n\nexport default Profile;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,kBAAkB,CACtD,OAASC,QAAQ,KAAQ,gBAAgB,CAEzC,OAASC,UAAU,CAAEC,QAAQ,KAAQ,kBAAkB,CAEvD,MAAO,CAAAC,IAAI,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjC,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,IAAAC,UAAA,CAAgCR,SAAS,EAAE,CAAzBS,SAAS,CAAAD,UAAA,CAAnBE,QAAQ,CAEhB,IAAAC,SAAA,CAA0BV,QAAQ,CAACQ,SAAS,CAAGP,UAAU,CAAGC,QAAQ,CAAE,CACpES,SAAS,CAAE,CAAEF,QAAQ,CAAED,SAAU,CACnC,CAAC,CAAC,CAFMI,OAAO,CAAAF,SAAA,CAAPE,OAAO,CAAEC,IAAI,CAAAH,SAAA,CAAJG,IAAI,CAIrB,GAAM,CAAAC,IAAI,CAAG,CAAAD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEE,EAAE,IAAIF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,IAAI,GAAI,CAAC,CAAC,CACzC;AACA,GAAIX,IAAI,CAACa,QAAQ,EAAE,EAAIb,IAAI,CAACc,UAAU,EAAE,CAACJ,IAAI,CAACJ,QAAQ,GAAKD,SAAS,CAAE,CACpE,mBAAOH,IAAA,CAACP,QAAQ,EAACoB,EAAE,CAAC,KAAK,EAAG,CAC9B,CAEA,GAAIN,OAAO,CAAE,CACX,mBAAOP,IAAA,QAAAc,QAAA,CAAK,YAAU,EAAM,CAC9B,CAEA,GAAI,EAACL,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEL,QAAQ,EAAE,CACnB,mBACEJ,IAAA,OAAAc,QAAA,CAAI,4FAGJ,EAAK,CAET,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CAAC,CAED,cAAe,CAAAb,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}